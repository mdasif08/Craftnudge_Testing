# CraftNudge Environment Configuration
# Copy this file to .env and update the values as needed

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================
APP_NAME=CraftNudge
VERSION=1.0.0
ENVIRONMENT=development
DEBUG=false
LOG_LEVEL=INFO

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql://postgres:password@localhost:5432/craftnudge
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600
DATABASE_ECHO=false

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://localhost:6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_SSL=false
REDIS_SSL_CERT_REQS=required
REDIS_DECODE_RESPONSES=true
REDIS_SOCKET_CONNECT_TIMEOUT=5
REDIS_SOCKET_TIMEOUT=5
REDIS_RETRY_ON_TIMEOUT=true
REDIS_HEALTH_CHECK_INTERVAL=30

# =============================================================================
# OLLAMA AI CONFIGURATION
# =============================================================================
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2
OLLAMA_TIMEOUT=30
OLLAMA_MAX_TOKENS=2048
OLLAMA_TEMPERATURE=0.7
OLLAMA_TOP_P=0.9
OLLAMA_RETRY_ATTEMPTS=3

# =============================================================================
# GITHUB INTEGRATION
# =============================================================================
GITHUB_WEBHOOK_SECRET=your_webhook_secret_here
GITHUB_ACCESS_TOKEN=your_access_token_here
GITHUB_APP_ID=your_app_id_here
GITHUB_PRIVATE_KEY_PATH=/path/to/private_key.pem
GITHUB_WEBHOOK_URL=http://localhost:8004/webhook

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
SECRET_KEY=your-super-secret-key-here-make-it-at-least-32-characters-long
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
BCRYPT_ROUNDS=12
CORS_ORIGINS=["*"]
RATE_LIMIT_PER_MINUTE=60

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
PROMETHEUS_PORT=9090
JAEGER_ENDPOINT=http://localhost:14268
SENTRY_DSN=your_sentry_dsn_here
LOG_FORMAT=json
ENABLE_METRICS=true
ENABLE_TRACING=true
ENABLE_PROFILING=false

# =============================================================================
# SERVICE PORTS
# =============================================================================
COMMIT_TRACKER_PORT=8001
AI_ANALYSIS_PORT=8002
DATABASE_PORT=8003
FRONTEND_PORT=8000
GITHUB_WEBHOOK_PORT=8004

# =============================================================================
# SERVICE TIMEOUTS
# =============================================================================
REQUEST_TIMEOUT=30
HEALTH_CHECK_TIMEOUT=5
GRACEFUL_SHUTDOWN_TIMEOUT=30

# =============================================================================
# SERVICE LIMITS
# =============================================================================
MAX_REQUEST_SIZE=10485760
MAX_CONCURRENT_REQUESTS=100
WORKER_PROCESSES=1

# =============================================================================
# FILE & STORAGE
# =============================================================================
DATA_DIR=data
COMMITS_FILE=data/behaviors/commits.jsonl
TEMP_DIR=/tmp/craftnudge
MAX_FILE_SIZE=52428800
ALLOWED_EXTENSIONS=[".json", ".jsonl", ".csv", ".txt"]

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Set to true for development
DEBUG=true
LOG_LEVEL=DEBUG
ENVIRONMENT=development

# =============================================================================
# PRODUCTION SETTINGS (uncomment for production)
# =============================================================================
# DEBUG=false
# LOG_LEVEL=INFO
# ENVIRONMENT=production
# CORS_ORIGINS=["https://yourdomain.com", "https://api.yourdomain.com"]

# =============================================================================
# TESTING SETTINGS (uncomment for testing)
# =============================================================================
# ENVIRONMENT=testing
# DATABASE_URL=postgresql://test:test@localhost:5432/craftnudge_test
# REDIS_URL=redis://localhost:6379/1

# =============================================================================
# EXTERNAL SERVICES (optional)
# =============================================================================
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/webhook/url
# EMAIL_SMTP_HOST=smtp.gmail.com
# EMAIL_SMTP_PORT=587
# EMAIL_USERNAME=your_email@gmail.com
# EMAIL_PASSWORD=your_app_password
# TWILIO_ACCOUNT_SID=your_twilio_account_sid
# TWILIO_AUTH_TOKEN=your_twilio_auth_token
# TWILIO_PHONE_NUMBER=+1234567890

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
# Increase these values for high-traffic environments
# DATABASE_POOL_SIZE=50
# DATABASE_MAX_OVERFLOW=100
# MAX_CONCURRENT_REQUESTS=500
# WORKER_PROCESSES=4

# =============================================================================
# SECURITY HARDENING (production only)
# =============================================================================
# Enable these for production environments
# REDIS_SSL=true
# REDIS_PASSWORD=your_redis_password
# DATABASE_SSL_MODE=require
# CORS_ORIGINS=["https://yourdomain.com"]
# RATE_LIMIT_PER_MINUTE=30
